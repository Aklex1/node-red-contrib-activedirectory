<script type="text/javascript">
    RED.nodes.registerType('find-group',{
      category: 'Active Directory',
      color: '#0E9EFF',
      defaults: {
        name: {
          value: ""
        },
        url: {
          value: "",
          required: true
        },
        baseDN: {
          value: "",
          required: false
        }
      },
      credentials: {
        username: {
          type:"text",
          required: true
        },
        password: {
          type:"password",
          required: true
        }
      },
      inputs:1,
      outputs:1,
      icon: "bridge.png",
      label: function() {
        return this.name||"find group";
      }
    });
  </script>
  
  <script type="text/x-red" data-template-name="find-group">
  
    <hr>
    <h4>Node Configuration</h4>
    <hr>
    <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
    </div>
  
    <hr>
    <h5>Active Directory</h5>
    <hr>
    <div class="form-row">
      <label for="node-input-url"><i class="icon-globe"></i> Url</label>
      <input type="text" id="node-input-url" placeholder="ldap://localhost">
    </div>
  
    <div class="form-row">
      <label for="node-input-baseDN"><i class="icon-tag"></i> Base DN</label>
      <input type="text" id="node-input-baseDN" placeholder="dc=domain,dc=com">
    </div>
  
    <hr>
    <h5>Credentials</h5>
    <hr>
    <div class="form-row">
      <label for="node-input-username"><i class="icon-user"></i> Username</label>
      <input type="text" id="node-input-username" placeholder="username@domain.com">
    </div>
  
    <div class="form-row">
      <label for="node-input-password"><i class="fa fa-key"></i> Password</label>
      <input type="password" id="node-input-password">
    </div>
  </script>
  
  <script type="text/x-red" data-help-name="find-group">
    <p>Connects to a Microsoft Active Directory and returns the group corresponding to the group name/DN set in <code>msg.payload</code>.</p>
  
    <h3>Inputs</h3>
      <dl class="message-properties">
        <dt>payload
          <span class="property-type">string | buffer</span>
        </dt>
        <dd> the group name of the group we want to get information. It also works with DN.</dd>
      </dl>
  
    <h3>Outputs</h3>
       <ol class="node-ports">
           <li>Standard output
               <dl class="message-properties">
                   <dt>payload <span class="property-type">string</span></dt>
                   <dd>the standard output of the command, a JSON object that contains all the information about the group.</dd>
               </dl>
           </li>
           <li>Standard error
               <dl class="message-properties">
                   <dt>payload <span class="property-type">string</span></dt>
                   <dd>the standard error of the command.</dd>
               </dl>
           </li>
       </ol>
  
    <h3>References</h3>
      <ul>
          <li><a href="https://github.com/NoeSamaille/node-red-contrib-activedirectory">GitHub</a> - the nodes github repository</li>
      </ul>
  </script>
  